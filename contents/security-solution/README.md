# Hacking
## #61 APT (Advanced Persistent Threat)
특정 타깃을 목표로 다양한 수단을 통한 지속적이고 지능적인 맞춤형 공격
ex) 3.20 전산망 장애, Stuxnet

#### 공격 단계
1. 침입
이메일, USB, SQL 인젝션 등 악성 프로그램을 사용해서 목표 네트워크에 침투
2. 검색
정보를 수집하고 기밀 데이터를 검색
3. 수집
보호되지 않은 시스템에서 데이터 수집
4. 유출
각종 기밀 데이터 유출

## #62 비즈니스 스캠
기업 이메일 계정을 도용하여 무역 거래 대금을 가로채는 사이버 범죄

#### 공격 단계

1. 스피어 피싱 등을 통해 악성코드를 감염시키고 이메일 주소 획득
2. 유사 이메일 생성
3. 가짜 이메일을 사용하여 당사자 사이에 끼어들어 이메일 전달
4. 결제 단계에서 바이어에게 결제계좌 변경을 통지

#### 대응 방법

- 이메일을 주고받을 때 이메일 주소를 꼼꼼히 확인한다.
- 결재 프로세스를 통해 내부에서 재확인 절차를 밟는다.
- 임직원들의 주기적인 보안 훈련
- 멀티채널 인증, Origin IP 확인, 암호화 메일 전송

## #63 사이버 킬 체인

사이버 공격을 위한 7단계 모델. 단계 중 하나만 끊어져도 방어에 성공하는 방식.

| 단계 | 이름                     | 설명                                                     | 대응 방안                              |
|------|------------------------|--------------------------------------------------------|-------------------------------------|
| 1    | 정찰 (Reconnaissance) | 공격 목표와 표적에 대해 자세하게 조사하는 과정 (ex: 사회공학, 크롤링 등) | 웹 분석, ACL, 패킷 필터링               |
| 2    | 무기화 (Weaponization)   | 자동화 도구를 이용하여 실제 공격에 이용할 무기를 준비하는 과정 (ex: 악성 프로그램, 트로이 목마) | 로그/프로세스 모니터링, 오용 탐지       |
| 3    | 배달 (Delivery)        | 표적화된 공격 목표에 사이버 무기 유포 (ex: 이메일 첨부, Drive By Download) | 망 분리, 비정상 탐지 차단, 패턴 매칭     |
| 4    | 익스플로잇 (Exploitation) | 준비된 사이버 무기를 통해 취약점을 작동시켜 목적에 따라 악용 (ex: CVE) | DEP(Data Execution Prevention), 인증서   |
| 5    | 설치 (Installation)     | 지정된 공격 목표에 악성 프로그램 설치 (ex: 트로이 목마 설치) | 내/외부망 별도 방화벽 구축               |
| 6    | 명령 (Command & Control)| 지정된 공격 목표에 원격 조작이 가능한 채널 구축 (ex: 관리자 권한 획득) | 패킷 분석, 고의적 응답 지연              |
| 7    | 행동 (Action)          | 공격 수행 (ex: 시스템 파괴, 데이터 유출, DDoS)        | 허니팟 유인, SIEM 로그 감사              |

## #64 DBD (Drive By Download)

최초의 익스플로잇 이후에 해킹 도구를 외부로부터 다운로드하는 공격 기법.

#### 단계
1. 악성코드 삽입
2. 이용자 서비스 이용
3. 악성 서버로 리다이렉트
4. 악성 프로그램 다운로드

#### 대응 방법
- **기업**: 정적 분석, 동적 분석
- **고객**: 소프트웨어 최신화

---

## #65 피싱 & 스피어 피싱

**피싱(Phishing)**: 가짜 이메일이나 전화를 이용해 사용자를 속여 개인정보를 획득하는 기법.  
**스피어 피싱(Spear Phishing)**: 표적화하여 개인의 관심사 및 지인을 사칭하여 메일을 열게 유도하는 기법.

**대응**: 2채널 인증(전화+메일), FDS(Fraud Detection System).

---

## #66 파밍

DNS 이름을 속여 이용자를 가짜 사이트로 유도하여 개인정보를 훔치는 기법.

사용자는 www.google.com과 같이 문자로 구성된 인터넷 주소를 사용하지만, 실제 연결은 DNS 서버를 통해 IP 주소로 변환된다. 파밍은 이러한 과정을 악용한다.

- **방법 1**: 해커가 사용자의 컴퓨터에 악성 코드를 이메일로 보내 호스트 파일을 변경하여 트래픽을 가짜 웹사이트로 유도.
- **방법 2**: DNS 포이즈닝을 통해 서버의 DNS 테이블을 수정하여 여러 사용자가 가짜 웹사이트로 방문하도록 유도.

#### 대응
- DNS를 화이트리스트 기반으로 운영.

---

## #67 워터링 홀

공격 대상이 방문할 가능성이 있는 사이트에 악성코드를 심어두고 잠복하면서 피해자의 컴퓨터에 악성 프로그램을 추가로 설치하는 공격 기법 (표적이 아니면 미공격).

#### 대응
- 보안 솔루션 최신화
- 관제 모니터링 체계 구축

---

## #68 익스플로잇 vs 안티바이러스

- **익스플로잇**: 프로그램의 취약점을 이용해 권한을 상승시키는 명령어 (ex: BOF, CSRF, XSS 등).
- **안티바이러스**: 패턴을 통해 악성코드를 분석, 탐지하는 소프트웨어 (ex: 백신).

- 제로데이와 같은 알려지지 않은 익스플로잇이 발생한다면? EDR
**EDR(Endpoint Detection & Response)**: 엔드 포인트에서 발생하는 행위를 확인하여 실시간으로 통제하고 대응하는 솔루션. 제로데이와 같은 알려지지 않은 익스플로잇이 발생 시 활용.

---

## #69 네트워크 스니핑

패킷을 캡처하여 중간에서 확인하는 공격 기법 (aka 도청).

- **Switch Jamming**: 스위치 MAC 테이블을 넘치게 해 네트워크 패킷 브로드캐스트.
- **ARP Spoofing(=ARP Cache Poisoning)**: 자신의 MAC 주소를 다른 컴퓨터의 주소인 것처럼 속이는 MITM(Man In The Middle) 공격.
- **ICMP Redirect**: 공격자가 라우터인 척 하여 경로를 재설정, 모든 메시지를 자기에게 오게 함. (희생자의 라우팅 테이블 변조하여 스니핑)
- **ARP Redirect**: 공격자가 MAC 주소를 위조하여 ARP Reply 패킷을 해당 네트워크에 broadcast하여 패킷을 수집하는 공격. (희생자의 ARP Cache Table 정보 변조하여 스니핑.)

---

## #70 세션 리플레이, 하이재킹

- **세션 리플레이**: 패킷 순서나 명령어를 캡쳐, 조작, 재연하는 공격. 쿠키, 자바스크립트 등을 사용.
  1. 사용자가 웹 서버에 전송 요청
  2. 서버를 가장한 가짜 서버에 연결
  3. 공격자가 서버에 재전송 트래픽 전송

  #### 대응
  - 세션 토큰, OTP, Nonce, Timestamp

- **세션 하이재킹**: 타인의 세션 상태를 훔치거나 도용하는 공격.

---

## #71 [OWASP TOP 10](https://owasp.org/Top10/)

OWASP(Open Web Application Security Project)에서 발표하는 웹 애플리케이션 취약점 TOP 10.
![image](https://github.com/user-attachments/assets/5fe34bca-a7ab-4307-afe4-90c609b9dd96)
- **A01**: Broken Access Control (취약한 접근제어)  

- **A02**: Cryptographic Failures (암호화 오류)  

- **A03**: Injection (인젝션)  

- **A04**: Insecure Design (안전하지 않은 설계)

- **A05**: Security Misconfiguration (보안 설정 오류)

- **A06**: Vulnerable and Outdated Components (취약하고 오래된 요소)

- **A07**: Identification and Authentication Failures (식별 및 인증 오류)

- **A08**: Software and Data Integrity Failures (소프트웨어 및 데이터 무결성 오류)

- **A09**: Security Logging and Monitoring Failures (보안 로깅 및 모니터링 실패)  

- **A10**: Server-Side Request Forgery (SSRF, 서버측 요청 위조)

---

## #72 XSS vs CSRF

- **XSS(Cross-Site Scripting)**: 공격자가 웹 페이지에 악의적인 스크립트를 삽입하여 사용자의 브라우저에서 실행되게 만드는 공격. (Stored XSS, Reflected XSS)
  
- **CSRF(Cross-Site Request Forgery)**: 사용자가 인증된 상태에서 악의적인 웹사이트가 사용자의 브라우저를 통해 원치 않는 요청을 전송하게 하는 공격.

#### 대응
- 사용자 입력값에 대한 검증과 필터링.

---

## #73 SQL 인젝션

웹 애플리케이션과 데이터베이스 간의 연동에서 발생하는 취약점으로, 공격자가 입력 폼에 악의적으로 조작된 쿼리를 삽입해 데이터베이스 정보를 불법적으로 열람하거나 조작할 수 있는 취약점.

#### 대응
- 웹 로그, 취약점 진단, Stored Procedure, PreparedStatement 클래스.

---

## #74 DoS & DDoS

- **Dos(Denial of Service)**: 서비스 거부 공격. 서버의 자원을 고갈시켜 정상적인 서비스가 불가능하도록 만든다.
  
- **DDoS(Distributed Denial of Service)**: 좀비 PC 등 다수의 클라이언트로 DoS 공격.  
  ex) Slowloris, RUDY, Ping of Death 등.

---

## #75 DDoS 인지 & 대응 방안

#### 인지 방안
- 유입 트래픽 크기, 웹 서버 접속 로그, 동시 접속 정보 확인.

#### 대응
- QoS(Quality of Service), DR(Disaster Recovery) 센터, 웹 서버 증설, Deception 구축.

